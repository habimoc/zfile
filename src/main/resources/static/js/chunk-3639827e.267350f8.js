(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3639827e"],{"2ae6":function(e,a,t){},9823:function(e,a,t){"use strict";t("2ae6")},f8a7:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"zfile-install"},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticClass:"zfile-install-form",attrs:{rules:e.rules,model:e.form,"label-width":"auto","status-icon":!0,"element-loading-text":"保存并初始化中."}},[t("div",{staticClass:"zfile-install-title box animate__animated animate__fadeIn"},[e._v("\n            Z-File\n            "),t("small",[e._v("Install")])]),t("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",attrs:{prop:"siteName"}},[t("el-input",{attrs:{placeholder:"站点名称","prefix-icon":"el-icon-tickets"},model:{value:e.form.siteName,callback:function(a){e.$set(e.form,"siteName",a)},expression:"form.siteName"}})],1),t("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:"管理员账号","prefix-icon":"el-icon-user"},model:{value:e.form.username,callback:function(a){e.$set(e.form,"username","string"===typeof a?a.trim():a)},expression:"form.username"}})],1),t("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",attrs:{prop:"password"}},[t("el-input",{attrs:{placeholder:"管理员密码","prefix-icon":"el-icon-key"},model:{value:e.form.password,callback:function(a){e.$set(e.form,"password","string"===typeof a?a.trim():a)},expression:"form.password"}})],1),t("el-form-item",{staticClass:"box animate__animated animate__fadeInUp",attrs:{prop:"domain"}},[t("el-input",{attrs:{placeholder:"站点地址/域名","prefix-icon":"el-icon-link"},model:{value:e.form.domain,callback:function(a){e.$set(e.form,"domain","string"===typeof a?a.trim():a)},expression:"form.domain"}})],1),t("el-form-item",{staticClass:"zfile-install-enter"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:function(a){return e.submitForm("form")}}},[e._v("确认")])],1)],1)],1)},n=[],s=t("fed1"),r=t.n(s),o={name:"Install",data:function(){return{form:{siteName:"",username:"",password:"",domain:window.location.protocol+"//"+window.location.host},loading:!1,rules:{siteName:[{required:!0,message:"请输入站点名称",trigger:"change"}],username:[{required:!0,message:"请输入管理员账号",trigger:"change"}],password:[{required:!0,message:"请输入管理员密码",trigger:"change"}],domain:[{required:!0,type:"url",message:"请输入正确的域名, 需以 http:// 或 https:// 开头",trigger:"change"}]}}},methods:{submitForm:function(e){var a=this;this.$refs[e].validate((function(e){if(!e)return a.loading=!1,!1;a.loading=!0;var t=a;a.$http.post("install",r.a.stringify(a.form)).then((function(e){a.loading=!1;var i=e.data;a.$message({message:"初始化成功",type:0===i.code?"success":"error",duration:1500,onClose:function(){t.$router.push("/main")}})}))}))}}},l=o,m=(t("9823"),t("c701")),c=Object(m["a"])(l,i,n,!1,null,"79c40082",null);a["default"]=c.exports}}]);